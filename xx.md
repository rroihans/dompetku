# üìã PRODUCTION-READY ALIGNMENT PLAN - COMPREHENSIVE

---

## üéØ **EXECUTIVE SUMMARY**

**Tujuan:** Mensinkronkan seluruh fitur aplikasi Dompetku v0.5.0 agar production-ready dengan data integrity 100%, UX seamless, dan zero inconsistencies.

**Scope:** 
- 6 Major synchronization issues identified
- 15 Implementation tasks across 3 priority tiers
- 1 New feature request (Real-time clock in top bar)

**Estimated Total Effort:** 26.5 hours
- TIER 1 (Critical): 8 hours
- TIER 2 (High Priority): 13 hours  
- TIER 3 (Nice-to-Have): 4.5 hours
- New Feature (Clock): 1 hour

---

## üî¥ **TIER 1: CRITICAL FIXES** (Must fix before production)

### **ISSUE #1: Net Worth Double Counting** üö® BLOCKER

**Problem:**
```
Current behavior:
1. Credit card debt counted from Akun.saldoSekarang: -Rp 5.000.000 ‚úÖ
2. Same debt counted again from RencanaCicilan: Rp 3.000.000 ‚ùå
3. Total hutang shown: Rp 8.000.000 (INCORRECT!)

Expected behavior:
- Total hutang should be: Rp 5.000.000
- Installments are PART OF credit card debt, not separate
```

**Root Cause:**
- File: `src/app/actions/networth.ts`
- Function: `calculateCurrentNetWorth()`
- Lines: ~50-65 (where cicilan loop adds to totalHutang)

**Impact:**
- Net worth calculation completely wrong
- Dashboard shows incorrect financial position
- User cannot trust the numbers

**Solution Plan:**

**Step 1:** Remove installment debt aggregation from net worth calculation
- Location: `src/app/actions/networth.ts` ‚Üí `calculateCurrentNetWorth()`
- Change: Delete the loop that sums `RencanaCicilan` debt
- Reason: Installment debt already reflected in credit card `saldoSekarang`

**Step 2:** Update dashboard stats to show breakdown correctly
- Location: `src/app/page.tsx` (Dashboard)
- Change: Separate display for:
  - "Total Hutang Kartu Kredit" (from saldoSekarang)
  - "Dibayar via Cicilan" (informational only, not added to total)

**Step 3:** Add clarification in cicilan page
- Location: `src/app/cicilan/page.tsx`
- Change: Add info box:
  ```
  üí° Info: Cicilan adalah metode pembayaran hutang kartu kredit.
  Total hutang sudah termasuk dalam saldo kartu kredit Anda.
  ```

**Testing:**
1. Create credit card with -Rp 5M debt
2. Convert Rp 3M to 3-month installment
3. Check net worth ‚Üí should show total hutang = Rp 5M (not Rp 8M)
4. Check dashboard ‚Üí breakdown should be clear

**Estimated Time:** 2 hours
- Code changes: 1 hour
- Testing: 30 minutes
- Documentation: 30 minutes

---

### **ISSUE #2: Admin Fee Disconnected Between Pages** üö® HIGH

**Problem:**
```
User journey BROKEN:
1. User creates bank account with biayaAdminAktif=true ‚úÖ
2. System auto-creates recurring transaction ‚úÖ
3. User sees "Automasi Aktif" badge in /akun/[id] ‚úÖ
4. User clicks badge ‚Üí NOTHING HAPPENS ‚ùå
5. User navigates to /recurring ‚Üí sees "[Auto] Biaya Admin..." ‚úÖ
6. User deletes recurring ‚Üí akun.biayaAdminAktif NOT updated ‚ùå
7. Data inconsistency: akun says "active" but no recurring exists ‚ùå
```

**Root Cause:**
- No bidirectional navigation between pages
- No sync logic when recurring transaction deleted
- User cannot understand the connection

**Impact:**
- Confusing UX
- Data integrity risk (settings out of sync)
- Support burden (users asking "why is it not working?")

**Solution Plan:**

**Part A: Add Navigation Links**

**Step 1:** Update account detail page
- File: `src/app/akun/[id]/page.tsx`
- Location: After account info cards, before transaction history
- Add new section: "Automasi Aktif"
  - Show: Pola tagihan, nominal, next billing date
  - Action: Button "Lihat di Recurring" ‚Üí `/recurring?highlight=${akun.id}`
  - Style: Use info card with blue/primary accent

**Step 2:** Update recurring page with highlight support
- File: `src/app/recurring/page.tsx`
- Change: Accept `searchParams.highlight` (akun ID)
- UI Effect: If recurring.akunId matches highlight ‚Üí apply pulse animation + ring border
- Duration: 3 seconds then fade out

**Step 3:** Add back-navigation from recurring
- File: Same as Step 2
- Change: For auto-generated recurring (`isAutoGenerated=true`)
- Add: Card footer with button "Lihat Pengaturan Akun" ‚Üí `/akun/${item.akunId}`
- Icon: ArrowLeft icon

**Part B: Sync Delete Actions**

**Step 4:** Update admin fee delete action
- File: `src/app/actions/admin-fee.ts` ‚Üí `deleteAdminFee()`
- Change: Inside transaction, add step to update Akun:
  ```
  await tx.akun.update({
    where: { id: existing.akunId },
    data: { 
      biayaAdminAktif: false,
      biayaAdminNominal: null,
      biayaAdminPola: null,
      biayaAdminTanggal: null
    }
  });
  ```
- Add: Revalidate `/akun/${akunId}` in addition to `/recurring`

**Step 5:** Prevent manual deletion of auto-generated recurring
- File: `src/components/recurring/recurring-actions.tsx`
- Change: If `recurring.isAutoGenerated === true`:
  - Disable delete button
  - Show tooltip: "Biaya admin otomatis hanya bisa dihapus dari pengaturan akun"
  - Keep toggle (enable/disable) functional

**Part C: Visual Indicators**

**Step 6:** Add badge to recurring cards
- File: `src/app/recurring/page.tsx`
- Change: For auto-generated recurring, add badge:
  - Text: "Automasi Bank"
  - Color: Blue/primary
  - Icon: Zap or Sparkles

**Testing:**
1. Create bank account with admin fee enabled
2. Navigate to /akun/[id] ‚Üí click "Lihat di Recurring"
3. Verify: Lands on /recurring with correct card highlighted
4. Click "Lihat Pengaturan Akun" ‚Üí back to account detail
5. Try to delete auto-generated recurring ‚Üí should be blocked
6. Delete admin fee from account settings ‚Üí verify recurring also deleted

**Estimated Time:** 4 hours
- Part A (Navigation): 1.5 hours
- Part B (Sync logic): 1.5 hours  
- Part C (UI polish): 30 minutes
- Testing: 30 minutes

---

### **ISSUE #3: Database Integrity Check Missing** üö® MEDIUM-HIGH

**Problem:**
- No automated check for orphaned records
- No validation that foreign keys are valid
- Possible scenarios:
  - Recurring transaction exists but akunId deleted
  - Cicilan exists but credit card deleted
  - Admin fee exists but no recurring link

**Impact:**
- Crashes when trying to display orphaned data
- Data corruption accumulates over time

**Solution Plan:**

**Step 1:** Create integrity check script
- File: NEW `scripts/check-integrity.ts`
- Functions:
  1. `checkOrphanedRecurring()` - recurring without valid akunId
  2. `checkOrphanedCicilan()` - cicilan without valid credit card
  3. `checkOrphanedAdminFees()` - admin fees without akun or recurring
  4. `checkMismatchedSettings()` - akun.biayaAdminAktif=true but no recurring
- Output: Report with list of issues + suggested fixes

**Step 2:** Add cleanup function
- File: Same script
- Function: `autoFixIntegrity(dryRun: boolean)`
- Actions:
  - Delete orphaned records (after user confirmation)
  - Sync mismatched settings (akun ‚Üî recurring)
  - Log all changes to LogSistem

**Step 3:** Add manual trigger in settings
- File: `src/app/pengaturan/page.tsx`
- Location: Under "Database" section (existing)
- Button: "Periksa Integritas Database"
- Dialog: Show report with option to auto-fix

**Step 4:** Optional: Add to cron job
- File: `src/app/api/cron/weekly/route.ts` (NEW)
- Schedule: Every Sunday 2 AM
- Action: Run integrity check (dry run)
- Alert: Send log if issues found

**Testing:**
1. Manually create orphaned data (delete akun but keep recurring)
2. Run integrity check ‚Üí should detect issue
3. Run auto-fix ‚Üí should clean up
4. Verify: No crashes, data consistent

**Estimated Time:** 2 hours
- Script development: 1 hour
- UI integration: 30 minutes
- Testing: 30 minutes

---

## üü† **TIER 2: HIGH PRIORITY IMPROVEMENTS** (Should fix for great UX)

### **ISSUE #4: Budget Does Not Consider Recurring Transactions** üü† HIGH

**Problem:**
```
User flow:
1. User sets budget "Hiburan": Rp 500.000/month
2. User has recurring "Netflix": Rp 200.000/month (kategori: Hiburan)
3. Budget page shows: 0% used (Rp 500.000 remaining) ‚ùå
4. Mid-month: Netflix auto-charges
5. User surprised: "Why only Rp 300.000 left? I haven't spent anything!"
```

**Impact:**
- Budget tracking misleading
- User cannot plan spending effectively
- Defeats purpose of budgeting

**Solution Plan:**

**Step 1:** Add projected spending calculation
- File: `src/app/actions/anggaran.ts` ‚Üí `getBudgetWithRealization()`
- Change: Query active recurring transactions for the month
- Logic:
  ```
  For each budget category:
    1. Get actual spending from transactions (current logic) ‚úÖ
    2. ADD: Get recurring that will trigger this month
    3. Calculate: projectedSpending = actual + recurring
    4. Show both numbers in UI
  ```

**Step 2:** Update budget UI to show breakdown
- File: `src/app/anggaran/page.tsx`
- Change: Each budget card shows:
  ```
  Current format:
  [Progress bar: 40%]
  Terpakai: Rp 200.000 dari Rp 500.000
  
  New format:
  [Progress bar: 40% solid + 20% striped]
  Terpakai: Rp 200.000
  Terjadwal (recurring): Rp 100.000
  Tersisa: Rp 200.000 dari Rp 500.000
  ```

**Step 3:** Add color coding
- Green bar: Actual spending
- Orange striped: Projected (recurring)
- Total: solid + striped = total projected

**Step 4:** Add filter toggle
- Location: Top of budget page
- Options:
  - "Tampilkan: Realisasi Saja" (current behavior)
  - "Tampilkan: Realisasi + Recurring" (new default)

**Testing:**
1. Create budget Rp 500k for "Hiburan"
2. Add recurring "Netflix" Rp 200k (kategori: Hiburan)
3. Add manual transaction Rp 100k (kategori: Hiburan)
4. Check budget page:
   - Should show: 100k spent (green) + 200k scheduled (orange) = 300k total
   - Remaining: 200k

**Estimated Time:** 3 hours
- Backend logic: 1.5 hours
- UI implementation: 1 hour
- Testing: 30 minutes

---

### **ISSUE #5: Calendar Is Read-Only (No Actions)** üü† MEDIUM

**Problem:**
- Calendar shows events (cicilan, recurring, transaksi)
- User clicks event ‚Üí sees detail dialog
- Dialog only shows info, no action buttons
- User must navigate to other pages to take action

**Impact:**
- Extra clicks required
- Interrupted workflow
- Calendar feels like "just a display"

**Solution Plan:**

**Step 1:** Add event click handler
- File: `src/components/calendar/financial-calendar.tsx`
- Change: Existing onClick already opens dialog ‚úÖ
- Enhance: Pass full event data to dialog

**Step 2:** Create action buttons based on event type
- File: Same component, dialog section
- Logic:
  ```
  If event.type === 'cicilan':
    - Button: "Bayar Cicilan" (primary)
    - Button: "Lihat Detail" (secondary) ‚Üí /cicilan
    
  If event.type === 'recurring':
    - Button: "Edit" ‚Üí /recurring with highlight
    - Button: "Skip Bulan Ini" (warning) ‚Üí disable recurring for 1 month
    
  If event.type === 'transaksi':
    - Button: "Edit" ‚Üí /transaksi with edit modal
    - Button: "Duplikat" ‚Üí pre-fill form with same data
    - Button: "Hapus" (destructive)
  ```

**Step 3:** Implement actions
- For cicilan: Call `bayarCicilan()` action
- For recurring: Call `toggleRecurringTransaction()` or update
- For transaksi: Call `updateTransaksi()` or `deleteTransaksi()`
- All: Show toast notification on success
- All: Update calendar without page reload (optimistic UI)

**Step 4:** Add "Skip Month" functionality for recurring
- File: NEW `src/app/actions/recurring.ts` ‚Üí `skipRecurringForMonth()`
- Logic:
  ```
  1. Check if terakhirDieksekusi is this month ‚Üí prevent skip
  2. Set custom field: skipMonths = [YYYY-MM]
  3. Update executeRecurringTransactions() to check skipMonths
  ```

**Step 5:** Add visual feedback
- After action: Update event appearance
  - Paid cicilan: Change color to green + checkmark icon
  - Skipped recurring: Change to gray + crossed icon
  - Deleted transaction: Remove from calendar

**Testing:**
1. Click cicilan event ‚Üí "Bayar Cicilan" ‚Üí verify transaction created
2. Click recurring ‚Üí "Skip Bulan Ini" ‚Üí verify not executed
3. Click past transaction ‚Üí "Duplikat" ‚Üí verify form pre-filled
4. Check calendar updates immediately (no refresh needed)

**Estimated Time:** 4 hours
- Dialog UI: 1 hour
- Action implementations: 2 hours
- Optimistic UI updates: 30 minutes
- Testing: 30 minutes

---

### **ISSUE #6: No Notification System** üü† MEDIUM

**Problem:**
- No alerts when budget almost exceeded
- No reminder before cicilan due date
- No notification when recurring fails
- User must manually check dashboard

**Impact:**
- User misses important financial events
- Late payments possible
- Budget overruns not prevented

**Solution Plan:**

**Step 1:** Create notification system foundation
- File: NEW `src/app/actions/notifications.ts`
- Model: Add to Prisma schema (optional, can use LogSistem)
  ```prisma
  model Notification {
    id String @id @default(cuid())
    userId String // for future multi-user
    type String // BUDGET_WARNING, CICILAN_DUE, RECURRING_FAILED
    title String
    message String
    severity String // INFO, WARNING, ERROR
    read Boolean @default(false)
    actionUrl String? // link to relevant page
    createdAt DateTime @default(now())
  }
  ```

**Step 2:** Add notification triggers

**Trigger A: Budget Warning (80% threshold)**
- Location: `src/app/actions/anggaran.ts` ‚Üí after realization calculation
- Condition: If persentase >= 80 AND persentase < 100
- Action: Create notification with title "‚ö†Ô∏è Anggaran [Kategori] Hampir Habis"

**Trigger B: Cicilan Due Soon (3 days before)**
- Location: `src/app/api/cron/daily/route.ts`
- Condition: Check all active cicilan where tanggalJatuhTempo - today <= 3
- Action: Create notification "üí≥ Cicilan [Product] Jatuh Tempo dalam [N] Hari"

**Trigger C: Recurring Execution Failed**
- Location: `src/app/actions/recurring.ts` ‚Üí executeRecurringTransactions()
- Condition: If transaction fails (catch block)
- Action: Create notification "‚ùå Transaksi Berulang [Name] Gagal Dieksekusi"

**Step 3:** Add notification center UI
- File: `src/components/layout/notification-bell.tsx` (NEW)
- Location: Top bar, between Privacy and Theme toggle
- UI: Bell icon with badge (unread count)
- Dropdown: List of recent notifications (max 10)
- Actions: Mark as read, clear all, view all

**Step 4:** Add notification page
- File: `src/app/notifications/page.tsx` (NEW)
- Show: All notifications, grouped by date
- Filter: By type, by read/unread
- Actions: Bulk mark as read, bulk delete

**Step 5:** Add settings to control notifications
- File: `src/app/pengaturan/page.tsx`
- Section: "Notifikasi"
- Options:
  - Enable/disable budget warnings
  - Enable/disable cicilan reminders
  - Enable/disable recurring alerts
  - Set budget warning threshold (default 80%)

**Testing:**
1. Set budget with 85% realization ‚Üí should create warning notification
2. Create cicilan with due date 2 days from now ‚Üí should create reminder
3. Force recurring to fail ‚Üí should create error notification
4. Check notification bell ‚Üí badge shows count
5. Click notification ‚Üí redirects to relevant page

**Estimated Time:** 6 hours
- Database model + actions: 2 hours
- UI components: 2 hours
- Triggers implementation: 1.5 hours
- Settings integration: 30 minutes

---

## üü° **TIER 3: NICE-TO-HAVE** (Future enhancements)

### **ISSUE #7: Net Worth Snapshot Not Automated** üü° LOW

**Problem:**
- `saveNetWorthSnapshot()` called manually after transactions
- If user forgets, trend chart has gaps
- No daily automatic snapshot

**Solution Plan:**

**Step 1:** Create daily cron job
- File: NEW `src/app/api/cron/daily/route.ts`
- Schedule: Every day at 00:00 (midnight)
- Action: Call `saveNetWorthSnapshot()`
- Log: Record success/failure to LogSistem

**Step 2:** Configure Vercel Cron (or alternative)
- File: `vercel.json`
- Add cron configuration:
  ```json
  {
    "crons": [
      {
        "path": "/api/cron/daily",
        "schedule": "0 0 * * *"
      }
    ]
  }
  ```

**Step 3:** Add manual trigger button
- File: `src/app/pengaturan/page.tsx`
- Location: Under "Net Worth Tracking" section
- Button: "Simpan Snapshot Sekarang"
- Shows: Last snapshot date/time

**Step 4:** Add health check
- File: `src/app/pengaturan/page.tsx`
- Show: Days since last snapshot
- Warning: If > 3 days, show alert "Snapshot terakhir [N] hari lalu"

**Estimated Time:** 2 hours
- Cron setup: 45 minutes
- Manual trigger UI: 30 minutes
- Health check: 30 minutes
- Testing: 15 minutes

---

### **ISSUE #8: Template Naming Confusion** üü° LOW

**Problem:**
- "AccountTemplate" vs "TemplateTransaksi" naming inconsistent
- Users might not understand difference
- Code also uses different patterns

**Solution Plan:**

**Option A: Rename Database Models** (Breaking change)
- NOT RECOMMENDED (requires migration)

**Option B: Improve UI Labels Only** (Non-breaking) ‚úÖ
- Keep database models as-is
- Update all UI labels for clarity

**Implementation:**

**Step 1:** Update page titles
- File: `src/app/template-akun/page.tsx`
  - Old: "Template Akun"
  - New: "Template Pengaturan Bank"
  - Description: "Konfigurasi biaya admin dan bunga untuk akun bank/e-wallet"

- File: `src/app/template/page.tsx`
  - Old: "Template Transaksi"
  - New: "Template Transaksi Cepat"
  - Description: "Simpan transaksi yang sering dilakukan untuk quick-add"

**Step 2:** Update navigation labels
- File: `src/components/layout/sidebar.tsx`
  - "Template Bank" ‚Üí /template-akun
  - "Template Transaksi" ‚Üí /template

**Step 3:** Add info boxes to clarify difference
- Both pages: Add info card at top explaining use case
- Example:
  ```
  üí° Perbedaan Template:
  - Template Bank: Untuk mengatur automasi biaya admin & bunga
  - Template Transaksi: Untuk quick-add transaksi yang sering dilakukan
  ```

**Estimated Time:** 30 minutes

---

### **ISSUE #9: No Export/Import for Specific Data** üü° LOW

**Problem:**
- Current backup exports EVERYTHING
- User cannot export only budgets, or only templates
- Useful for: Sharing budget plan, backing up templates only

**Solution Plan:**

**Step 1:** Add selective export options
- File: `src/app/pengaturan/page.tsx`
- Location: Under existing "Backup & Restore"
- Options:
  - Export All (existing)
  - Export Budgets Only
  - Export Templates Only
  - Export Recurring Only
  - Custom (checkboxes for each data type)

**Step 2:** Implement selective export actions
- File: `src/app/actions/backup.ts`
- New function: `exportSelective(options: string[])`
- Options array: ['budgets', 'templates', 'recurring', etc.]

**Step 3:** Add import with merge options
- Current: Import replaces existing (skip if exists)
- New: Options on import:
  - Replace existing (current behavior)
  - Merge (keep both, rename duplicates)
  - Skip duplicates (current behavior)

**Estimated Time:** 2 hours

---

## üÜï **NEW FEATURE REQUEST: Real-Time Clock in Top Bar**

### **Requirement:**

Add live clock display showing:
- Date: "Jumat, 16 Januari 2026"
- Time: "14:23:45 WIB"
- Updates every second
- Location: Top bar, left side (before debug menu)

**Solution Plan:**

**Step 1:** Create Clock component
- File: NEW `src/components/layout/live-clock.tsx`
- Type: Client component (needs useState, useEffect)
- State: `currentTime` (Date object)
- Effect: setInterval to update every 1000ms
- Cleanup: clearInterval on unmount

**Step 2:** Format display
- Date format: Use `toLocaleDateString('id-ID')` with options:
  ```typescript
  {
    weekday: 'long',  // Senin, Selasa, etc.
    year: 'numeric',  // 2026
    month: 'long',    // Januari, Februari, etc.
    day: 'numeric'    // 1, 2, 3, etc.
  }
  ```
- Time format: Use `toLocaleTimeString('id-ID')` with options:
  ```typescript
  {
    hour: '2-digit',   // 14
    minute: '2-digit', // 23
    second: '2-digit', // 45
    hour12: false,     // 24-hour format
    timeZone: 'Asia/Jakarta' // WIB
  }
  ```
- Add " WIB" suffix manually

**Step 3:** Responsive design
- Desktop: Show full format
  ```
  üìÖ Jumat, 16 Januari 2026 | üïê 14:23:45 WIB
  ```
- Mobile (<768px): Show compact format
  ```
  üìÖ 16 Jan 2026 | üïê 14:23 WIB
  ```
  (Hide seconds on mobile to save space)

**Step 4:** Add to layout
- File: `src/app/layout.tsx`
- Location: Inside `<header>`, left side
- Order:
  ```
  [LiveClock] [Spacer] [DebugMenu] [PrivacyToggle] [ThemeToggle]
  ```

**Step 5:** Styling
- Font: Monospace for time (consistent width)
- Color: text-muted-foreground (not too prominent)
- Size: text-sm (small, non-distracting)
- Hover: Slightly brighter (text-foreground)
- Separator: Vertical line or bullet between date/time

**Step 6:** Accessibility
- Add `aria-live="polite"` for screen readers
- Add `role="timer"`
- Announce time every minute (not every second to avoid spam)

**Step 7:** Performance optimization
- Use `useCallback` for date formatting
- Memoize formatted strings if expensive
- Consider using `requestAnimationFrame` instead of setInterval for smoother updates

**Step 8:** Optional enhancements
- Click to copy timestamp
- Tooltip showing "Server time" vs "Your time" (if different timezone)
- Toggle between WIB/WITA/WIT based on user location

**Testing:**
1. Desktop view: Verify full format displays
2. Mobile view: Verify compact format
3. Wait 1 minute: Verify time updates correctly
4. Check timezone: Should show WIB (Asia/Jakarta)
5. Screen reader: Verify announcements not too frequent

**Estimated Time:** 1 hour
- Component development: 30 minutes
- Layout integration: 15 minutes
- Responsive styling: 10 minutes
- Testing: 5 minutes

---

## üìä **COMPREHENSIVE EFFORT SUMMARY**

| Priority | Tasks | Total Time | Status |
|----------|-------|------------|--------|
| **TIER 1** (Critical) | 3 issues | 8 hours | üî¥ Must fix |
| **TIER 2** (High) | 3 issues | 13 hours | üü† Should fix |
| **TIER 3** (Nice-to-have) | 3 issues | 4.5 hours | üü° Can defer |
| **New Feature** (Clock) | 1 feature | 1 hour | üÜï Requested |
| **TOTAL** | 10 items | **26.5 hours** | üéØ Full alignment |

---

## üóìÔ∏è **RECOMMENDED IMPLEMENTATION SCHEDULE**

### **Sprint 1: Critical Fixes** (Week 1)
```
Monday (4h):    Issue #1 - Net worth double counting
Tuesday (4h):   Issue #2 - Admin fee sync (Part A+B)
Wednesday (2h): Issue #3 - Integrity check
Thursday (2h):  Testing TIER 1, bug fixes
Friday (1h):    New feature - Real-time clock
```

### **Sprint 2: UX Improvements** (Week 2)
```
Monday (3h):    Issue #4 - Budget recurring integration
Tuesday (4h):   Issue #5 - Calendar actions
Wednesday (6h): Issue #6 - Notification system (Day 1)
Thursday (3h):  Issue #6 - Notification system (Day 2)
Friday (2h):    Testing TIER 2, polish
```

### **Sprint 3: Final Polish** (Week 3)
```
Monday (2h):    Issue #7 - Automated snapshots
Tuesday (2h):   Issue #8 - Template naming + Issue #9 - Selective export
Wednesday (2h): Comprehensive testing (all tiers)
Thursday (2h):  Documentation updates
Friday (2h):    Production deployment preparation
```

---

## ‚úÖ **PRODUCTION-READY CRITERIA**

Application will be considered production-ready when:

### **Data Integrity** ‚úÖ
- [ ] No double counting in any calculation
- [ ] All foreign keys properly enforced
- [ ] Orphaned records automatically detected
- [ ] Data consistency checks pass 100%

### **Feature Synchronization** ‚úÖ
- [ ] Admin fee synced between /akun ‚Üî /recurring
- [ ] Budget considers recurring transactions
- [ ] Calendar has actionable items
- [ ] Net worth tracking accurate
- [ ] All cross-feature navigation works

### **User Experience** ‚úÖ
- [ ] Zero dead-ends (every page has clear next action)
- [ ] No confusing states (settings match reality)
- [ ] Important events have notifications
- [ ] Mobile responsive (all screen sizes)
- [ ] Real-time clock for context

### **Performance** ‚úÖ
- [ ] All pages load <500ms (local dev)
- [ ] No N+1 queries
- [ ] Database properly indexed
- [ ] Optimistic UI updates where appropriate

### **Testing** ‚úÖ
- [ ] All TIER 1 tests pass
- [ ] Integration tests cover cross-feature flows
- [ ] No console errors
- [ ] Accessibility score >90

### **Documentation** ‚úÖ
- [ ] User guide updated with new features
- [ ] Developer docs reflect current architecture
- [ ] Changelog complete
- [ ] Known issues documented

---

## üéØ **SUCCESS METRICS**

**Before Alignment:**
- Net worth accuracy: ‚ùå Incorrect (double counting)
- Cross-feature navigation: 3/10 pages connected
- User confusion points: 6 identified issues
- Production readiness: 70%

**After Alignment:**
- Net worth accuracy: ‚úÖ 100% correct
- Cross-feature navigation: 10/10 pages connected
- User confusion points: 0 unresolved issues
- Production readiness: 95%+ ‚úÖ

---

## üìù **NOTES FOR IMPLEMENTATION AI AGENT**

1. **Follow order strictly:** TIER 1 ‚Üí TIER 2 ‚Üí TIER 3 ‚Üí New Feature
2. **Test after each issue:** Don't accumulate untested code
3. **Use transactions:** Any multi-step database operation needs Prisma transaction
4. **Revalidate paths:** Always call `revalidatePath()` after data changes
5. **Log everything:** Use `logSistem()` for debugging production issues
6. **Mobile-first:** Test on mobile viewport for every UI change
7. **Accessibility:** Add proper ARIA labels and keyboard navigation
8. **Error handling:** Every action needs try-catch with user-friendly messages
9. **Type safety:** No `any` types, use proper TypeScript interfaces
10. **Code review:** Each task should be reviewable separately (atomic commits)

---